package project.metamodel.factory;

import ro.lrg.xcore.metametamodel.XEntity;
import project.metamodel.entity.*;
import project.metamodel.impl.*;

public class Factory {
   protected static Factory singleInstance = new Factory();
   public static Factory getInstance() { return singleInstance;}
   protected Factory() {}
   private LRUCache<Object, XEntity> lruCache_ = new LRUCache<>(1000);
   public void setCacheCapacity(int capacity) {
       lruCache_.setCapacity(capacity);
   }
   public void clearCache() {lruCache_.clear();}
   public Function createFunction(java.lang.Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new FunctionImpl(obj);
           lruCache_.put(obj, instance);
        }
        return (Function)instance;
    }
   public XCCompUnit createXCCompUnit(java.lang.Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XCCompUnitImpl(obj);
           lruCache_.put(obj, instance);
        }
        return (XCCompUnit)instance;
    }
   public XCProject createXCProject(java.lang.Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XCProjectImpl(obj);
           lruCache_.put(obj, instance);
        }
        return (XCProject)instance;
    }
   public XCFunctionDeclarator createXCFunctionDeclarator(java.lang.Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XCFunctionDeclaratorImpl(obj);
           lruCache_.put(obj, instance);
        }
        return (XCFunctionDeclarator)instance;
    }
   public XCSourceRoot createXCSourceRoot(java.lang.Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XCSourceRootImpl(obj);
           lruCache_.put(obj, instance);
        }
        return (XCSourceRoot)instance;
    }
   public XCContinueStatement createXCContinueStatement(java.lang.Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XCContinueStatementImpl(obj);
           lruCache_.put(obj, instance);
        }
        return (XCContinueStatement)instance;
    }
}
